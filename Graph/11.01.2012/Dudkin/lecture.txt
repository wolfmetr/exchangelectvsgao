Опр. Дерево - это связный граф без циклов.
Опр. Граф, у которого все компоненты связности деревья - называется лес.
Опр. Дерево с выбранной вершиной называется Корневым, сама эта вершина корнем.
Наличие корня позволяет задать на дереве ориентацию от корня ко всем висячим вершинам.(листьям)

Теорема: 
Следующие 5 утверждений эквивалентны:
1) G - дерево с p вершинами и q ребрами.
2) G - не содержит циклов и q = p - 1
3) G - связный и q = p - 1
4) G - связный и при удаление люого ребра становиться несвязным
5) G - не содержит циклов и при добавление ребра не содержащегося в G получается цикл.

Доказательство:

Лемма: Если в G число ребер >= числа вершин (q >= p) то в G есть цикл. 
По индукции p = 3 
Пусть при числе вершин <= p - 1 утверждение верно.
Пусть q = p - число вершин.
1) Если в G есть висячие вершины, удалим одну из них и соответствующее ребро, тогда в полученом графе p - 1 вершин q - 1 ребро q - 1 = p - 1 и по предположению индукции в их графе был учим.
2) Если в G все вершины имеют степени 2 или более. Берем v и далее двиг следующим образом из v1 -> v2, из v2 по ребру не совпадающим с (v, v2) попад в v3 и т.д. В какой-тото момент путь зацикл. ЧТД

1 => 2 т.к. G - дерево, то G - не содержит циклов. По теореме об оценке числа ребер p - k <= q т.к. G - связный, то p - 1 <= q и по лемме, т.к. в G нет циклов, то q = p - 1
2 => 3 Пусть G не содержит цикл и q = p - 1. От противного (пусть 3 не выполняется), т.е. G - не связный, т.е. есть две компоненты связности  p1 и p2. Если бы в p1 и в p2 не было циклов, то p1 - 1 >= q1; p2 - 1 >= q2; p - 2 = p1 + p2 - 2 >= q1 + q2 = q; q <= p - 2
3 => 4 Пусть G не связный и q = p - 1. От противного: Пусть при удаление какого-то ребра G - e связный. G - e - число ребер q - 1 число вершин p число компонент связности - 1, т.к. p - k <= q, то p - 1 <= q - 1
4 => 5 Пусть G - связный и при удаление люго ребра станет не связным. В G циклов быть не может т.к. в этом случае пможно удалить ребро без увеличение числа к.с. (т.е. в G циклов нет). Если G - связный, то между любыми двумя есть путь. Добавив ребро между любыми двумя вершинами получим цикл.
5 => 1 Пусть G - не содержит циклов и при добавление ребра образуется цикл. Доказать, что G - связный. От противного: Если бы G был не связный, то добавив ребро соединяющие к.с. циклов так бы и не получили, что противоречит "при добавление ребра образуется цикл"

1) Связный
2) Не содержит циклов
3) q = p - 1
4) Удаление люого ребра делает граф несвязным
5) Добавление любого ребра приводит у увеличению количетсва циклов

Код Прюфера. 
На каждом шаге из дерева удаляется висячая вершина с наименьшим номером. При этом в код Прюфера записывается не вершина, а смежная